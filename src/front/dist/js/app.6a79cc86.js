(function(t){function e(e){for(var n,a,s=e[0],l=e[1],c=e[2],u=0,f=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,a=1;a<o.length;a++){var l=o[a];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},i={app:0},r=[];function a(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-43cb61ec":"ac03b41d","chunk-59a30907":"c868fd21","chunk-876219c6":"7cd7e99e"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(t){var e=[],o=i[t];if(0!==o)if(o)e.push(o[2]);else{var n=new Promise((function(e,n){o=i[t]=[e,n]}));e.push(o[2]=n);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=a(t);var c=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(u);var o=i[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",c.name="ChunkLoadError",c.type=n,c.request=r,o[1](c)}i[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"1f75":function(t,e,o){"use strict";o("d3b7");var n=o("bc3a"),i=o.n(n),r=o("a49b"),a=(o("159b"),o("5e4c")),s=(o("641b"),o("4360"),o("f023"),function(t){return function(t){var e=t.config;if(t.response)if(0==e.url.indexOf("/api/oauth/login"))Promise.reject(t);else if(401!==t.response.status||e._retry)400==t.response.status?0==e.url.indexOf("/api/oauth/refresh")||t.response.data.message:t.response.status;else a["a"].getRefreshToken();return Promise.reject(t)}}),l=s;console.log("API_URL",r["a"]);var c=i.a.create({baseURL:r["a"]});c.interceptors.request.use((function(t){return t}),(function(t){Promise.reject(t)})),c.interceptors.response.use((function(t){return t}),l(c));e["a"]=c},"30f0":function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var n=o("5e4c");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n["a"].getAccessToken();return e?{Authorization:"Bearer "+e,portfolioid:t.portfolioId,yearmon:t.yearmon}:{Authorization:"Bearer "}}},4360:function(t,e,o){"use strict";var n=o("2b0e"),i=o("2f62"),r=o("bc3a"),a=o.n(r),s=o("f023"),l=o("5e4c");n["default"].use(i["a"]),n["default"].prototype.$axios=a.a;var c=new i["a"].Store({state:{token:"",refreshToken:"",userId:null,email:null,isAuthenticated:!!l["a"].getAccessToken(),LoadingStatus:!1},mutations:{LOGIN:function(t,e){t.token=e.token,t.userId=e.userId,t.email=e.email,t.isAuthenticated=!0,l["a"].saveAccessToken(e.token),l["a"].saveRefreshToken(e.token)},LOGOUT:function(t){t.token=null,t.userId=null,t.email=null,t.isAuthenticated=!1,l["a"].destroyAccessToken()},startSpinner:function(t){t.LoadingStatus=!0},endSpinner:function(t){t.LoadingStatus=!1}},getters:{isAuthenticated:function(t){return t.isAuthenticated}},actions:{LOGIN:function(t,e){var o=t.commit,n=e.email,i=e.password;return s["a"].login({email:n,password:i}).then((function(t){return o("LOGIN",{token:t.data.accessToken,refreshToken:t.data.refreshToken,userId:t.data.userId,email:n}),t}),(function(t){return t.response}))},LOGOUT:function(t){var e=t.commit;return e("LOGOUT"),!0}},modules:{}});e["a"]=c},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("4de4"),o("d3b7"),o("ac1f"),o("5319");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],a=(o("034f"),o("2877")),s={},l=Object(a["a"])(s,i,r,!1,null,null,null),c=l.exports,u=o("8c4f"),d=o("4360"),f=o("641b"),m=o("1881"),h=o.n(m),p=o("5f5b"),b=o("498a"),v=o("b1e0"),g=(o("ab8b"),o("2dd8"),o("b680"),o("fb6a"),/(\d{3})(?=\d)/g);function k(t,e,o){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";"KR"===e&&(o=0),e="US"===e?"$":"KR"===e?"￦":e,e=null!=e?e:"$",o=null!=o?o:2;var n=Math.abs(t).toFixed(o),i=o?n.slice(0,-1-o):n,r=i.length%3,a=r>0?i.slice(0,r)+(i.length>3?",":""):"",s=o?n.slice(-1-o):"",l=t<0?"-":"";return l+e+a+i.slice(r).replace(g,"$1,")+s}var y=/(\d{3})(?=\d)/g;function P(t,e){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:2;var o=Math.abs(t).toFixed(e),n=e?o.slice(0,-1-e):o,i=n.length%3,r=i>0?n.slice(0,i)+(n.length>3?",":""):"",a=e?o.slice(-1-e):"",s=t<0?"-":"";return s+r+n.slice(i).replace(y,"$1,")+a+"%"}n["default"].use(h.a,{dynamic:!0}),n["default"].use(p["a"]),n["default"].use(b["a"]),n["default"].use(v["a"]),n["default"].config.productionTip=!1,n["default"].use(u["a"]),n["default"].filter("makeComma",(function(t){return String(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")})),n["default"].filter("currency",k),n["default"].filter("currencyDollar",k),n["default"].filter("currencyWon",(function(t){return k(t,"￦",0)})),n["default"].filter("exchangeWon",(function(t){return k(t,"￦",2)})),n["default"].filter("rate",P);var _=new u["a"]({routes:f["a"]});new n["default"]({router:_,store:d["a"],render:function(t){return t(c)}}).$mount("#app")},"5e4c":function(t,e,o){"use strict";var n="id_access_token",i="id_refresh_token",r=function(){return window.sessionStorage.getItem(n)},a=function(t){window.sessionStorage.setItem(n,t)},s=function(){window.sessionStorage.removeItem(n)},l=function(){return window.sessionStorage.getItem(i)},c=function(t){window.sessionStorage.setItem(i,t)},u=function(){window.sessionStorage.removeItem(i)};e["a"]={getAccessToken:r,saveAccessToken:a,destroyAccessToken:s,getRefreshToken:l,saveRefreshToken:c,destroyRefreshToken:u}},"641b":function(t,e,o){"use strict";o("d3b7"),o("3ca3"),o("ddb0");var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[o("b-navbar-brand",{attrs:{href:"#"}},[t._v("MyStock")]),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",[o("b-nav-item",[o("router-link",{attrs:{to:"/main/portfolio"}},[t._v("포트폴리오")])],1),o("b-nav-item",[o("router-link",{attrs:{to:"/main/interestStock"}},[t._v("관심종목")])],1),o("b-nav-item",[o("router-link",{attrs:{to:"/main/tradingNote"}},[t._v("매매일지")])],1),o("b-nav-item",[o("router-link",{attrs:{to:"/main/notice"}},[t._v("게시판")])],1),o("b-nav-item",{attrs:{href:"javascript:;"},on:{click:t.applyCurrentInfo}},[t._v("정보현행화")])],1),o("b-navbar-nav",{staticClass:"ml-auto"},[o("a",{staticClass:"nav-link",attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v(" Logout ")])])],1)],1),o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("router-view")],1)],1)},i=[],r=o("ade3"),a=(o("b0c0"),o("fb6a"),o("e9c4"),o("d4ec")),s=o("bee2"),l=o("1f75"),c=o("30f0"),u="/api/v1/scrap",d=function(){function t(){Object(a["a"])(this,t)}return Object(s["a"])(t,[{key:"add",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l["a"].put(u,t,{headers:Object(c["a"])()})}}]),t}(),f=new d,m={data:function(){return{}},computed:{routeName:function(){var t=this.$route.name;return this.capitalizeFirstLetter(t)},isAuthenticated:function(){return this.$store.getters.isAuthenticated},pageTitle:function(){return this.$route.meta.title}},methods:Object(r["a"])({refresh:function(){for(var t=0;t<this.$route.matched.length;t++)try{this.$route.matched[t].instances.default.refresh()}catch(e){console.log("Content.vue::refresh()",e)}},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},logout:function(){var t=this;this.$store.dispatch("LOGOUT").then((function(e){console.log(e),e&&t.$router.push({name:"Login"})})).catch((function(t){var e=t.message;return console.log(e)}))},applyCurrentInfo:function(){var t=this;this.$store.commit("startSpinner");var e={email:this.$store.state.email};console.log("param="+JSON.stringify(e)),f.add(e).then((function(e){200===e.status?(alert("최신정보로 반영되었습니다."),t.refresh()):alert("실행중 실패했습니다.\n다시 이용해 주세요"),t.$store.commit("endSpinner")})).catch((function(e){console.log(e),alert("[오류발생]"+e),t.$store.commit("endSpinner")}))}},"refresh",(function(){try{this.$route.matched[1].instances.default.refresh()}catch(t){console.log("Content.vue::refresh()",t)}}))},h=m,p=(o("b828"),o("2877")),b=Object(p["a"])(h,n,i,!1,null,null,null),v=b.exports,g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("div",{staticClass:"row justify-content-center",staticStyle:{height:"100%"}},[o("div",{staticClass:"col-auto align-self-center"},[o("b-card",{staticClass:"mb-2",attrs:{title:"Login",tag:"article"}},[o("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)},reset:t.onReset}},[o("div",{staticClass:"row"},[o("div",[o("label",[t._v("Email")]),o("b-form-input",{attrs:{id:"email",type:t.email,placeholder:"Enter your email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),o("label",[t._v("Password")]),o("b-form-input",{attrs:{id:"password",type:t.password,placeholder:"Enter your password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("p"),o("div",{staticClass:"text-center"},[o("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit",disabled:t.formWait}},[t._v(" 로그인 ")]),o("div",{staticClass:"clearfix"})]),o("div",{staticClass:"text-end"},[o("router-link",{attrs:{to:"/signup"}},[t._v("회원가입")])],1)])])],1)],1)])])},k=[],y=o("1da1"),P=o("5530"),_=(o("96cf"),o("2f62")),w={name:"OauthLogin",components:{},data:function(){return{formWait:!1,form:{email:"mintaeho75@gmail.com",password:"test123"}}},computed:Object(P["a"])({},Object(_["b"])(["isAuthenticated"])),methods:{onSubmit:function(t){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.preventDefault(),e.formWait=!0,e.$store.dispatch("LOGIN",e.form).then((function(t){e.formWait=!1,void 0===t?alert("Server connection failure. Please contact administrator"):200==t.status?e.isAuthenticated&&e.$router.push({name:"Portfolio"}):Object.prototype.hasOwnProperty.call(t.data,"message")?alert(t.data.message):alert("Login failed.")})).catch((function(t){var e=t.message;return console.log(e)}));case 3:case"end":return o.stop()}}),o)})))()},onReset:function(t){t.preventDefault()}}},A=w,I=Object(p["a"])(A,g,k,!1,null,null,null),O=I.exports,x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},N=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("h2",[t._v("404 Not Found")]),o("h2",[t._v("Oops! It seems that this page does not exist.")])])}],S={},j=S,L=Object(p["a"])(j,x,N,!1,null,null,null),R=L.exports,T=o("5e4c"),C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",{attrs:{align:"start"}},[o("h2",[t._v("Portfolio")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedPortfolioId,expression:"selectedPortfolioId"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedPortfolioId=e.target.multiple?o:o[0]},function(e){return t.changePortfolio(e)}]}},t._l(t.portfolioList,(function(e){return o("option",{key:e.portfolioId,domProps:{value:e.portfolioId}},[t._v(" "+t._s(e.name)+" ")])})),0)]),o("b-col",{attrs:{align:"end"}},[o("b-button",{attrs:{id:"show-btn"},on:{click:function(e){return t.$refs["add-portfolio"].show()}}},[t._v("Add Portfolio")]),t._v("  "),o("b-button",{attrs:{id:"show-btn"},on:{click:function(e){return t.$refs["add-ticker"].show()}}},[t._v("Add Ticker")])],1)],1),o("b-row",[o("portfolio-list",{ref:"listRefreshRequest",on:{emitPortfolioList:t.setPortfolioList}})],1),o("b-modal",{ref:"add-portfolio",attrs:{"hide-footer":"",title:"Add Portfolio"}},[o("b-form-input",{attrs:{placeholder:"Enter portfolio name"},model:{value:t.portfolioName4Add,callback:function(e){t.portfolioName4Add=e},expression:"portfolioName4Add"}}),o("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:t.addPortfolio}},[t._v("Save")])],1),o("b-modal",{ref:"add-ticker",attrs:{"hide-footer":"",title:"Add Ticker"}},[o("b-form-input",{attrs:{placeholder:"Enter Ticker"},model:{value:t.ticker4Add,callback:function(e){t.ticker4Add=e},expression:"ticker4Add"}}),o("b-button",{staticClass:"mt-3",attrs:{variant:"outline-warning",block:""},on:{click:t.addTicker}},[t._v("Save")])],1)],1)],1)},$=[],D="/api/v1/portfolio",E="/api/v1/portfolioStock",M=function(){function t(){Object(a["a"])(this,t)}return Object(s["a"])(t,[{key:"getPortfolioList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log("params="+JSON.stringify(t)),l["a"].get(D+"/byEmail",{params:t,headers:Object(c["a"])()})}},{key:"getPortfolioStockList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l["a"].get(E+"/byEmailAndPortfolioId",{params:t,headers:Object(c["a"])()})}},{key:"addPortfolio",value:function(t){return l["a"].post(D,t,{headers:Object(c["a"])()})}},{key:"register",value:function(t){return l["a"].post(E,t,{headers:Object(c["a"])()})}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l["a"].delete(E+"/"+t.portfolioId+"/"+t.ticker,{headers:Object(c["a"])()})}}]),t}(),q=new M,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},on:{"row-dblclicked":function(e,o,n){return t.rowDblClickHandler(e,o,n)}},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[o("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"trash-fill",variant:"dark"},on:{click:function(o){return t.del(e.item,e.index,o.target)}}})]}}])})],1)},G=[],Y=(o("159b"),{name:"portfolio-list",components:{},data:function(){return{fields:[{key:"businessCycle",label:"경기순환/섹터",sortable:!0},{key:"ticker",label:"티커",sortable:!0},{key:"currentPrice",label:"현재가",sortable:!1,variant:"danger"},{key:"unitPrice",label:"매수단가",sortable:!1},{key:"stockNum",label:"주식수",sortable:!1},{key:"totalTradingAmount",label:"매수금액",sortable:!1},{key:"evalAmount",label:"평가금액",sortable:!1},{key:"earningAmount",label:"수익금액",sortable:!1},{key:"earningRate",label:"수익률",sortable:!1},{key:"annualPayout",label:"주당배당금",sortable:!1},{key:"totalPayout",label:"총배당금",sortable:!1},{key:"investmentDivYield",label:"투자배당률",sortable:!1},{key:"dividendPayMonth",label:"배당주기",sortable:!1},{key:"portion",label:"비중",sortable:!1},{key:"actions",label:"Actions"}],items:[{isActive:!0,age:40,first_name:"Dickerson",last_name:"Macdonald"},{isActive:!1,age:21,first_name:"Larsen",last_name:"Shaw"},{isActive:!1,age:89,first_name:"Geneva",last_name:"Wilson"},{isActive:!0,age:38,first_name:"Jami",last_name:"Carney"}],portfolioList:[],selectedPortfolioId:""}},created:function(){},mounted:function(){this.getPortfolioList()},methods:{refresh:function(t){console.log("this.selectedPortfolioId="+this.selectedPortfolioId+", portfolioId="+t),t&&(this.selectedPortfolioId=t),this.getData(this.selectedPortfolioId)},getPortfolioList:function(){var t=this,e={email:this.$store.state.email};console.log("param="+JSON.stringify(e)),q.getPortfolioList(e).then((function(e){console.log(e),200===e.status&&(t.portfolioList=e.data,t.selectedPortfolioId=e.data[0].portfolioId,t.getData(t.selectedPortfolioId),t.$emit("emitPortfolioList",t.portfolioList))}))},getData:function(t){var e=this;console.log(">>>>> getData::portfolioList::getData::protfolioId="+t+", selectedPortfolioId="+this.selectedPortfolioId);var o={email:this.$store.state.email,portfolioId:t};q.getPortfolioStockList(o).then((function(t){if(console.log(t),200===t.status){console.log("res.data="+t.data);var o=[];t.data.forEach((function(t,e){console.log("index="+e+", element="+t);var n={businessCycle:t.stock.businessCycle+"/"+t.stock.sector,ticker:t.stock.ticker,currentPrice:t.stock.currentPrice,unitPrice:t.unitPrice,stockNum:t.stockNum,totalTradingAmount:t.unitPrice*t.stockNum,evalAmount:t.stock.currentPrice*t.stockNum,earningAmount:t.stock.currentPrice*t.stockNum-t.unitPrice*t.stockNum,earningRate:(t.stock.currentPrice*t.stockNum-t.unitPrice*t.stockNum)/(t.unitPrice*t.stockNum),annualPayout:t.stock.annualPayout,totalPayout:t.stock.annualPayout*t.stockNum,investmentDivYield:t.stock.annualPayout*t.stockNum/(t.unitPrice*t.stockNum),dividendPayMonth:t.stock.dividendPayMonth,portion:0};console.log("obj="+n),o.push(n)})),e.items=o}}))},rowDblClickHandler:function(t,e,o){console.log("rowDblClickHandler::obj="+JSON.stringify(t))},del:function(t,e,o){var n=this;console.log("del::index="+e+", item="+JSON.stringify(t)),console.log(">>>>>>>>>>>>>>>>>>"),console.log("this.selectedPortfolioId="+this.selectedPortfolioId);var i={email:this.$store.state.email,portfolioId:this.selectedPortfolioId,ticker:t.ticker};confirm("삭제하시겠습니까?")&&q.remove(i).then((function(t){200===t.status?(n.refresh(n.selectedPortfolioId),alert("삭제되었습니다.")):alert("실행중 실패했습니다.\n다시 이용해 주세요.")}))}}}),F=Y,W=Object(p["a"])(F,J,G,!1,null,null,null),U=W.exports,H={name:"portfolio",components:{PortfolioList:U},data:function(){return{portfolioList:[],selectedPortfolioId:"",portfolioName4Add:"",ticker4Add:""}},created:function(){},mounted:function(){},computed:{},methods:{refresh:function(){this.listRefreshRequest()},listRefreshRequest:function(t){this.$refs.listRefreshRequest.refresh(t)},setPortfolioList:function(t){console.log("setPortfolioList::obj="+t),this.portfolioList=t,this.selectedPortfolioId=t[0].portfolioId},changePortfolio:function(t){console.log("changePortfolio="+t.target.value),this.selectedPortfolioId=t.target.value,console.log("this.selectedPortfolioId="+this.selectedPortfolioId),this.listRefreshRequest(this.selectedPortfolioId)},addPortfolio:function(){var t=this,e={email:this.$store.state.email,name:this.portfolioName4Add};q.addPortfolio(e).then((function(e){console.log("addPortfolio::res"+e),200===e.status&&(t.$refs.listRefreshRequest.getPortfolioList(),t.portfolioName4Add="",t.$refs["add-portfolio"].hide(),alert("포트폴리오가 등록되었습니다."))}))},addTicker:function(){var t=this,e={email:this.$store.state.email,portfolioId:this.selectedPortfolioId,ticker:this.ticker4Add};q.register(e).then((function(e){console.log("addTicker::res"+e),200===e.status&&(t.$refs.listRefreshRequest.refresh(t.selectedPortfolioId),t.ticker4Add="")}))}}},z=H,B=Object(p["a"])(z,C,$,!1,null,null,null),K=B.exports,Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",{attrs:{align:"start"}},[o("h2",[t._v("관심종목")])]),o("b-col",{attrs:{align:"end"}},[o("b-button",{attrs:{id:"show-btn"},on:{click:function(e){return t.$refs["add-ticker"].show()}}},[t._v("Add Ticker")])],1)],1),o("b-row",[o("interestStock-list",{ref:"listRefreshRequest"})],1),o("b-modal",{ref:"add-ticker",attrs:{"hide-footer":"",title:"Add Ticker"}},[o("b-form-input",{attrs:{placeholder:"Enter Ticker"},model:{value:t.ticker4Add,callback:function(e){t.ticker4Add=e},expression:"ticker4Add"}}),o("b-button",{staticClass:"mt-3",attrs:{variant:"outline-warning",block:""},on:{click:t.addTicker}},[t._v("Save")])],1)],1)],1)},V=[],X="/api/v1/interestStock",Z=function(){function t(){Object(a["a"])(this,t)}return Object(s["a"])(t,[{key:"getList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l["a"].get(X+"/byEmail",{params:t,headers:Object(c["a"])()})}},{key:"register",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l["a"].post(X,t,{params:t,headers:Object(c["a"])()})}},{key:"remove",value:function(t){return l["a"].delete(X+"/"+t,{headers:Object(c["a"])()})}}]),t}(),tt=new Z,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[o("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"trash-fill",variant:"dark"},on:{click:function(o){return t.del(e.item,e.index,o.target)}}})]}}])})],1)},ot=[],nt=(o("b680"),o("a9e3"),{name:"interestStock-list",components:{},data:function(){return{fields:[{key:"businessCycle",label:"경기순환/섹터",sortable:!0},{key:"ticker",label:"티커",sortable:!0},{key:"currentPrice",label:"현재가",sortable:!1,variant:"danger"},{key:"desiredPurchasePrice",label:"매수희망가",sortable:!1},{key:"avgPrice",label:"평균가(1년)",sortable:!1},{key:"under10Price",label:"10% 하락",sortable:!1},{key:"under20Price",label:"20% 하락",sortable:!1},{key:"under30Price",label:"30% 하락",sortable:!1},{key:"w52",label:"최저-52주-최고",sortable:!1},{key:"divYield",label:"배당수익률",sortable:!1},{key:"fiveYearAvgDividendYield",label:"5년평균배당률",sortable:!1},{key:"payoutRatio",label:"배당성향",sortable:!1},{key:"dividendGrowth",label:"배당성장년수",sortable:!1},{key:"annualPayout",label:"배당금",sortable:!1},{key:"dividendPayMonth",label:"배당주기",sortable:!1},{key:"actions",label:"Actions"}],items:[{isActive:!0,age:40,first_name:"Dickerson",last_name:"Macdonald"},{isActive:!1,age:21,first_name:"Larsen",last_name:"Shaw"},{isActive:!1,age:89,first_name:"Geneva",last_name:"Wilson"},{isActive:!0,age:38,first_name:"Jami",last_name:"Carney"}]}},created:function(){},mounted:function(){this.getData()},methods:{refresh:function(){this.getData()},getData:function(){var t=this,e={email:this.$store.state.email};tt.getList(e).then((function(e){if(console.log(e),200===e.status){console.log("res.data="+e.data);var o=[];e.data.forEach((function(t,e){console.log("index="+e+", element="+t);var n={interestStockId:t.interestStockId,businessCycle:t.stock.businessCycle+"/"+t.stock.sector,ticker:t.stock.ticker,currentPrice:Number(t.stock.currentPrice).toFixed(2),desiredPurchasePrice:0,avgPrice:0,under10Price:Number(.9*t.stock.highestPrice).toFixed(2),under20Price:Number(.8*t.stock.highestPrice).toFixed(2),under30Price:Number(.7*t.stock.highestPrice).toFixed(2),w52:0,divYield:t.stock.dividendYield,fiveYearAvgDividendYield:t.stock.fiveyearAvgDividendYield,payoutRatio:t.stock.payoutRatio,dividendGrowth:t.stock.dividendGrowthRate,annualPayout:t.stock.annualPayout,dividendPayMonth:t.stock.dividendPayMonth};console.log("obj="+n),o.push(n)})),t.items=o}}))},del:function(t,e,o){var n=this;console.log("del::index="+e+", item="+JSON.stringify(t)),console.log(">>>>>>>>>>>>>>>>>>"),confirm("삭제하시겠습니까?")&&tt.remove(t.interestStockId).then((function(t){200===t.status?(n.refresh(),alert("삭제되었습니다.")):alert("실행중 실패했습니다.\n다시 이용해 주세요.")}))}}}),it=nt,rt=Object(p["a"])(it,et,ot,!1,null,null,null),at=rt.exports,st={name:"interestStock",components:{InterestStockList:at},data:function(){return{ticker4Add:""}},created:function(){},mounted:function(){},computed:{},methods:{refresh:function(){this.listRefreshRequest()},listRefreshRequest:function(){this.$refs.listRefreshRequest.refresh()},addTicker:function(){var t=this,e={email:this.$store.state.email,ticker:this.ticker4Add};tt.register(e).then((function(e){console.log("addTicker::res"+e),200===e.status&&t.listRefreshRequest()}))}}},lt=st,ct=Object(p["a"])(lt,Q,V,!1,null,null,null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",{attrs:{align:"start"}},[o("h2",[t._v("매매일지")])]),o("b-col",{attrs:{align:"end"}})],1),o("b-row",[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("caption",[t._v("Register or Modify Trading note")]),o("b-thead",{attrs:{"head-variant":"dark"}},[o("b-tr",[o("b-th",[t._v("포트폴리오")]),o("b-th",[t._v("거래일")]),o("b-th",[t._v("티커")]),o("b-th",[t._v("체결단가")]),o("b-th",[t._v("수량")]),o("b-th",[t._v("매매구분")]),o("b-th",[t._v("거래금액")]),o("b-th",[t._v("수수료")]),o("b-th",[t._v("환율")]),o("b-th",[t._v("action")])],1)],1),o("b-tbody",[o("b-tr",[o("b-td",[o("b-form-select",{staticClass:"mt-3 lg",attrs:{options:t.options},model:{value:t.selectedPortfolioId,callback:function(e){t.selectedPortfolioId=e},expression:"selectedPortfolioId"}})],1),o("b-td",[o("b-form-input",{staticClass:"mt-3",attrs:{placeholder:"YYYY/MM/DD"},model:{value:t.tradingDate,callback:function(e){t.tradingDate=e},expression:"tradingDate"}})],1),o("b-td",[o("b-form-input",{staticClass:"mt-3",attrs:{placeholder:"AAPL"},model:{value:t.ticker,callback:function(e){t.ticker=e},expression:"ticker"}})],1),o("b-td",[o("b-form-input",{staticClass:"mt-3",attrs:{placeholder:""},model:{value:t.unitPrice,callback:function(e){t.unitPrice=e},expression:"unitPrice"}})],1),o("b-td",[o("b-form-input",{staticClass:"mt-3",attrs:{placeholder:""},model:{value:t.stockNum,callback:function(e){t.stockNum=e},expression:"stockNum"}})],1),o("b-td",[o("b-form-select",{staticClass:"mt-3 lg",attrs:{options:t.options2},model:{value:t.tradingType,callback:function(e){t.tradingType=e},expression:"tradingType"}})],1),o("b-td",[o("b-form-input",{staticClass:"mt-3",attrs:{placeholder:""},model:{value:t.tradingAmount,callback:function(e){t.tradingAmount=e},expression:"tradingAmount"}})],1),o("b-td",[o("b-form-input",{staticClass:"mt-3",attrs:{placeholder:""},model:{value:t.fee,callback:function(e){t.fee=e},expression:"fee"}})],1),o("b-td",[o("b-form-input",{staticClass:"mt-3",attrs:{placeholder:""},model:{value:t.exchangeRate,callback:function(e){t.exchangeRate=e},expression:"exchangeRate"}})],1),o("b-td",[t.input_mode?o("b-button",{staticClass:"mt-3",attrs:{variant:"outline-warning",block:""},on:{click:t.add}},[t._v("추가")]):[o("b-button",{staticClass:"mt-3",attrs:{variant:"outline-warning",block:""},on:{click:t.mod}},[t._v("수정")]),o("b-button",{staticClass:"mt-3",attrs:{variant:"outline-warning",block:""},on:{click:t.clear}},[t._v("초기화")])]],2)],1)],1)],1)],1),o("b-row",[o("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},on:{"row-dblclicked":function(e,o,n){return t.rowDblClickHandler(e,o,n)}},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[o("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"trash-fill",variant:"dark"},on:{click:function(o){return t.del(e.item,e.index,o.target)}}})]}}])})],1)],1)],1)},ft=[],mt="/api/v1/tradingNote",ht="/api/v1/portfolio",pt=function(){function t(){Object(a["a"])(this,t)}return Object(s["a"])(t,[{key:"getList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l["a"].get(mt+"/byEmail",{params:t,headers:Object(c["a"])()})}},{key:"register",value:function(t){return l["a"].post(mt,t,{headers:Object(c["a"])()})}},{key:"modify",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l["a"].put(mt,t,{headers:Object(c["a"])()})}},{key:"remove",value:function(t){return l["a"].delete(mt+"/"+t,{headers:Object(c["a"])()})}},{key:"getPortfolioList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l["a"].get(ht+"/byEmail",{params:t,headers:Object(c["a"])()})}}]),t}(),bt=new pt,vt={name:"tradingNote",components:{},data:function(){return{fields:[{key:"portfolioName",label:"포트폴리오"},{key:"tradingDate",label:"거래일"},{key:"ticker",label:"티커"},{key:"unitPrice",label:"체결단가"},{key:"stockNum",label:"수량"},{key:"tradingType",label:"매매구분"},{key:"tradingAmount",label:"거래금액"},{key:"fee",label:"수수료"},{key:"exchangeRate",label:"환율"},{key:"actions",label:"Actions"}],items:[{isActive:!0,age:40,first_name:"Dickerson",last_name:"Macdonald"},{isActive:!1,age:21,first_name:"Larsen",last_name:"Shaw"},{isActive:!1,age:89,first_name:"Geneva",last_name:"Wilson"},{isActive:!0,age:38,first_name:"Jami",last_name:"Carney"}],options:[],options2:[{value:"매수",text:"매수"},{value:"매도",text:"매도"}],tradingNoteId:"",tradingDate:"",ticker:"",unitPrice:"",stockNum:"",tradingType:"매수",tradingAmount:"",fee:"",exchangeRate:"",portfolioList:[],selectedPortfolioId:"",input_mode:!0}},created:function(){},mounted:function(){this.getData(),this.getPortfolioList()},computed:{},methods:{refresh:function(){this.getData()},getPortfolioList:function(){var t=this,e={email:this.$store.state.email};console.log("param="+JSON.stringify(e)),bt.getPortfolioList(e).then((function(e){if(console.log(e),200===e.status){t.portfolioList=e.data,t.selectedPortfolioId=e.data[0].portfolioId;var o=[];e.data.forEach((function(t,e){var n={value:t.portfolioId,text:t.name};o.push(n)})),t.options=o}}))},getData:function(){var t=this,e={email:this.$store.state.email};bt.getList(e).then((function(e){if(console.log("getData.res="+JSON.stringify(e)),200===e.status){var o=[];e.data.forEach((function(t,e){console.log("index="+e+", element="+t),console.log("element.portfolioStock="+t.portfolioStock);var n={tradingNoteId:t.tradingNoteId,portfolioId:t.portfolioStock.portfolio.portfolioId,portfolioName:t.portfolioStock.portfolio.name,tradingDate:t.tradingDate,ticker:t.portfolioStock.stock.ticker,unitPrice:t.unitPrice,stockNum:t.stockNum,tradingType:t.tradingType,tradingAmount:t.tradingAmount,fee:t.fee,exchangeRate:t.exchangeRate};o.push(n)})),t.items=o}}))},add:function(){var t=this,e={email:this.$store.state.email,portfolioId:this.selectedPortfolioId,ticker:this.ticker,tradingDate:this.tradingDate,tradingType:this.tradingType,stockNum:this.stockNum,unitPrice:this.unitPrice,tradingAmount:this.tradingAmount,fee:this.fee,exchangeRate:this.exchangeRate};console.log("param="+JSON.stringify(e)),bt.register(e).then((function(e){console.log("add::res"+e),200===e.status&&(t.refresh(),alert("매매일지가 등록 되었습니다."))}))},mod:function(){var t=this,e={email:this.$store.state.email,portfolioId:this.selectedPortfolioId,tradingNoteId:this.tradingNoteId,ticker:this.ticker,tradingDate:this.tradingDate,tradingType:this.tradingType,stockNum:this.stockNum,unitPrice:this.unitPrice,tradingAmount:this.tradingAmount,fee:this.fee,exchangeRate:this.exchangeRate};console.log("param="+JSON.stringify(e)),bt.modify(e).then((function(e){console.log("add::res"+e),200===e.status&&(t.clear(),t.refresh(),alert("매매일지가 수정 되었습니다."))}))},del:function(t,e,o){var n=this;console.log("del::index="+e+", item="+JSON.stringify(t)),console.log(">>>>>>>>>>>>>>>>>>"),confirm("삭제하시겠습니까?")&&bt.remove(t.tradingNoteId).then((function(t){200===t.status?(n.clear(),n.refresh(n.selectedPortfolioId),alert("삭제되었습니다.")):alert("실행중 실패했습니다.\n다시 이용해 주세요.")}))},clear:function(){this.input_mode=!0,this.tradingNoteId="",this.tradingDate="",this.ticker="",this.unitPrice="",this.stockNum="",this.tradingAmount="",this.fee="",this.exchangeRate=""},rowDblClickHandler:function(t,e,o){console.log("rowDblClickHandler..."),console.log("index="+e+", obj.ticker="+t.ticker+", event="+o),this.input_mode=!1,this.tradingNoteId=t.tradingNoteId,this.selectedPortfolioId=t.portfolioId,this.tradingDate=t.tradingDate,this.ticker=t.ticker,this.unitPrice=t.unitPrice,this.stockNum=t.stockNum,this.tradingType=t.tradingType,this.tradingAmount=t.tradingAmount,this.fee=t.fee,this.exchangeRate=t.exchangeRate}}},gt=vt,kt=Object(p["a"])(gt,dt,ft,!1,null,null,null),yt=kt.exports,Pt=function(){return function(t,e,o){if(T["a"].getAccessToken())return o();o("/login")}},_t=function(){return function(t,e,o){if(!T["a"].getAccessToken())return o();o("/")}},wt=[{path:"/",component:v,redirect:"/main/portfolio"},{path:"/login",name:"Login",component:O,beforeEnter:_t()},{path:"*",component:R},{path:"/main",component:v,redirect:"/main/portfolio",beforeEnter:Pt(),children:[{path:"portfolio",name:"Portfolio",component:K},{path:"interestStock",name:"interestStock",component:ut},{path:"tradingNote",name:"TradingNote",component:yt},{path:"notice",name:"Notice",meta:{title:"게시판",breadcrumb:[{name:"",link:""}]},component:function(){return o.e("chunk-59a30907").then(o.bind(null,"5f53"))}},{path:"/notice/edit",name:"NoticeEdit",meta:{title:"게시판 등록",breadcrumb:[{name:"",link:""}]},component:function(){return o.e("chunk-876219c6").then(o.bind(null,"7785"))}},{path:"/notice/:id",name:"NoticeId",meta:{title:"게시판 상세조회",breadcrumb:[{name:"",link:""}]},component:function(){return o.e("chunk-43cb61ec").then(o.bind(null,"4d86"))}},{path:"/notice/edit/:id",name:"NoticeEditId",meta:{title:"게시판 수정",breadcrumb:[{name:"",link:""}]},component:function(){return o.e("chunk-876219c6").then(o.bind(null,"7785"))}}]}];e["a"]=wt},"85ec":function(t,e,o){},"95f1":function(t,e,o){},a49b:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));window.location.protocol;var n=window.location.hostname,i=window.location.port,r="http://"+n+":"+i},b828:function(t,e,o){"use strict";o("95f1")},f023:function(t,e,o){"use strict";var n=o("d4ec"),i=o("bee2"),r=o("1f75"),a=o("30f0"),s="/api/v1",l=function(){function t(){Object(n["a"])(this,t)}return Object(i["a"])(t,[{key:"login",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(s+"/login",t,{headers:Object(a["a"])()})}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(s+"/oauth/refresh",{params:t,headers:Object(a["a"])()})}}]),t}();e["a"]=new l}});
//# sourceMappingURL=app.6a79cc86.js.map